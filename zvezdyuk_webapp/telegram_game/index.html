<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Zvezdyuk ‚Äî Ship Run</title>

<style>
  :root{
    --bg:#020617;
    --bg2:#071022;
    --panel:#0b1220;
    --accent:#2ee6c4;
    --muted:#98a0b3;
    --danger:#ff6b6b;
    --gold:#ffd166;
  }

  html,body{
    height:100%;
    margin:0;
    background: url("/public/images/stars_bg.png") center/cover no-repeat fixed,
                linear-gradient(180deg,var(--bg) 0%, var(--bg2) 100%);
    font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto;
    color:#eef2f7;
  }

  .wrap{max-width:980px;margin:0 auto;padding:18px;box-sizing:border-box;}

  .hud{
    display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;
  }

  .logo{display:flex;gap:10px;align-items:center;}
  .logo img{width:58px;height:58px;border-radius:14px;object-fit:cover;}

  .title h1{margin:0;font-size:20px;font-weight:700;}
  .title p{margin:0;font-size:13px;color:var(--muted);}

  .xp-box{
    background:rgba(255,255,255,0.04);
    padding:6px 12px;
    border-radius:12px;
    font-size:13px;
  }

  .panel{
    background:rgba(255,255,255,0.03);
    padding:12px;
    border-radius:18px;
    box-shadow:0 6px 30px rgba(0,0,0,0.6);
    overflow:hidden;
  }

  .art{
    height:260px;
    background:rgba(255,255,255,0.02);
    border-radius:14px;
    display:flex;align-items:center;justify-content:center;
    overflow:hidden;
    position:relative;
  }

  .art img{
    max-height:100%;
    max-width:100%;
    object-fit:contain;
  }

  /* ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî –ê–ù–ò–ú–ê–¶–ò–ò ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî */

  .engine-fire{
    position:absolute;
    bottom:40px;
    width:40px;
    height:70px;
    background:radial-gradient(circle,#2ee6c4 0%, transparent 70%);
    filter:blur(12px);
    opacity:0;
    transition:0.2s;
  }

  .engine-on .engine-fire{
    opacity:1;
    transform:translateY(8px);
  }

  .shake {
    animation: shakeShip .25s infinite;
  }

  @keyframes shakeShip {
    0% { transform: translate(0px, 0px); }
    25% { transform: translate(1px, -2px); }
    50% { transform: translate(-1px, 2px); }
    75% { transform: translate(2px, -1px); }
    100% { transform: translate(0px, 0px); }
  }

  .atmo{
    position:absolute;
    top:0;left:0;right:0;bottom:0;
    background:radial-gradient(circle,rgba(255,150,50,0.3),transparent 70%);
    mix-blend-mode:screen;
    opacity:0;
    transition:.4s;
  }

  .atmo.active{
    opacity:1;
  }

  /* ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî */

  .fuel-row{
    display:flex;align-items:center;gap:10px;margin-top:10px;
  }

  .meter{
    flex:1;height:14px;background:rgba(255,255,255,0.05);
    border-radius:8px;overflow:hidden;position:relative;
  }

  .meter i{
    position:absolute;left:0;top:0;bottom:0;
    background:linear-gradient(90deg,var(--accent),#7fffe0);
    width:100%;transition:.3s;
  }

  .controls{display:flex;gap:10px;margin-top:12px;}

  .btn{
    flex:1;padding:12px 14px;border-radius:12px;
    background:rgba(255,255,255,0.04);
    border:1px solid rgba(255,255,255,0.06);
    color:#e9fbf6;font-weight:600;font-size:15px;cursor:pointer;
    display:flex;align-items:center;justify-content:center;gap:6px;
  }

  .start-area{display:flex;align-items:center;gap:14px;margin-top:14px;}

  .progress-track{
    height:8px;background:rgba(255,255,255,0.03);
    flex:1;border-radius:8px;overflow:hidden;
  }

  .progress-bar{
    height:100%;background:linear-gradient(90deg,var(--gold),#ffbb55);
    width:6%;transition:.3s;
  }

  .bottom-actions{
    position:fixed;left:12px;right:12px;bottom:16px;
    display:flex;flex-direction:column;gap:12px;
  }

  .tg-btn{
    padding:14px 16px;background:rgba(255,255,255,0.05);
    border-radius:12px;text-align:center;
    font-size:17px;font-weight:600;cursor:pointer;
  }
</style>

</head>
<body>

<div class="wrap">

  <div class="hud">
    <div class="logo">
      <img src="/public/images/logo.png" alt="ZVlogo">
      <div class="title">
        <h1>Zvezdyuk ‚Äî Ship Run</h1>
        <p>–ú–∏–Ω–∏-–∏–≥—Ä–∞: –¥–æ–±–µ—Ä–∏—Å—å –¥–æ –ó–µ–º–ª–∏</p>
      </div>
    </div>
    <div class="xp-box">
      Level <span id="level">1</span> ‚Ä¢ XP: <span id="xp">0</span> / 100
    </div>
  </div>

  <div class="panel">
    <div class="art" id="shipArea">
      <img id="shipArt" src="/public/images/cockpit.png" alt="cockpit">
      <div class="engine-fire" id="engineFire"></div>
      <div class="atmo" id="atmoFX"></div>
    </div>

    <div class="fuel-row">
      Fuel: <strong id="fuelText">100%</strong>
      <div class="meter"><i id="fuelBar"></i></div>
    </div>

    <div class="controls">
      <div class="btn" id="boostBtn">üöÄ Boost</div>
      <div class="btn" id="brakeBtn">üõë Brake</div>
      <div class="btn" id="scoreBtn">üèÅ Send Score</div>
    </div>

    <div class="start-area">
      <div class="progress-track"><div id="progressBar" class="progress-bar"></div></div>
      <div class="btn" id="startBtn">‚ñ∂ Start</div>
    </div>

  </div>

</div>

<div class="bottom-actions">
  <div class="tg-btn" id="playBtn">üéÆ –ò–≥—Ä–∞—Ç—å</div>
  <div class="tg-btn" id="leadersBtn">üèÜ –õ–∏–¥–µ—Ä—ã</div>
  <div class="tg-btn" id="infoBtn">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
</div>

<script>
/* ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî GAME STATE ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî */

let fuel = 100;
let progress = 0;
let xp = 0;
let level = 1;
let playing = false;
let boosting = false;
let braking = false;

const fuelBar = document.getElementById("fuelBar");
const fuelText = document.getElementById("fuelText");
const progressBar = document.getElementById("progressBar");
const shipArea = document.getElementById("shipArea");
const engineFire = document.getElementById("engineFire");
const atmoFX = document.getElementById("atmoFX");

function updateUI(){
  fuelBar.style.width = fuel + "%";
  fuelText.textContent = Math.round(fuel) + "%";
  progressBar.style.width = progress + "%";
  document.getElementById("xp").textContent = xp;
  document.getElementById("level").textContent = level;
}

function tick(){
  if(!playing) return;
  let drain = 0.15;
  let gain = 0.12;

  if(boosting){
    drain += 0.6;
    gain += 1.2;
    engineFire.style.opacity = 1;
  } else engineFire.style.opacity = 0;

  if(braking){
    drain -= 0.1;
    gain -= 0.1;
  }

  fuel -= drain;
  if(fuel < 0) fuel = 0;

  if(fuel === 0){
    gain *= 0.3;
  }

  progress += gain;

  if(progress >= 80){
    atmoFX.classList.add("active");
  } else atmoFX.classList.remove("active");

  if(progress >= 100){
    win();
  }

  updateUI();
}

setInterval(tick, 200);

function startGame(){
  playing = true;
  shipArea.classList.add("shake");
}

function win(){
  playing = false;
  shipArea.classList.remove("shake");
  xp += 30;
  if(xp >= 100){
    level++;
    xp = 0;
  }
  fuel = 100;
  progress = 0;
  updateUI();
}

/* ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî BUTTONS ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî */

document.getElementById("startBtn").onclick = ()=>{
  startGame();
};

document.getElementById("boostBtn").onmousedown = ()=> boosting = true;
document.getElementById("boostBtn").onmouseup = ()=> boosting = false;

document.getElementById("brakeBtn").onmousedown = ()=> braking = true;
document.getElementById("brakeBtn").onmouseup = ()=> braking = false;

document.getElementById("scoreBtn").onclick = ()=>{
  alert("–°–∫–æ—Ä —Å–∫–æ—Ä–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤ –±–æ—Ç");
};

document.getElementById("playBtn").onclick = ()=>{
  startGame();
};

document.getElementById("leadersBtn").onclick = ()=> alert("–õ–∏–¥–µ—Ä—ã –ø–æ—è–≤—è—Ç—Å—è –ø–æ–∑–∂–µ");
document.getElementById("infoBtn").onclick = ()=> alert("–ú–∏—Ä Zvezdyuk ‚Äî –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ");

/* Telegram WebApp safe */
if(window.Telegram){
  Telegram.WebApp.expand();
}
updateUI();
</script>

</body>
</html>
